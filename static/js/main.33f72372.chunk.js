(this.webpackJsonppeliculas=this.webpackJsonppeliculas||[]).push([[0],{29:function(e,t,a){e.exports=a(57)},56:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(25),l=a.n(r),o=a(7),i=a(4),s=a(10),m=a.n(s),u=Object(o.g)((function(e){var t=e.movie;function a(){return window.innerWidth<=1170?100:230}return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"text"},c.a.createElement("p",null,t.overview?"".concat(t.overview.substring(0,a())).concat(t.overview.length>a()?"...":""):""),c.a.createElement("div",{className:"options"},c.a.createElement("button",{onClick:function(){return e.history.push("/movie/".concat(t.id))}},"Ver m\xe1s"),c.a.createElement("div",{className:"like"},function(t){return e.favorites.filter((function(e){return e.id===t.id})).length}(t)?c.a.createElement("i",{className:"material-icons",onClick:function(){return e.deleteFavorite(t)}},"favorite"):c.a.createElement("i",{className:"material-icons",onClick:function(){return e.createFavorite(t)}},"favorite_border")))),c.a.createElement("div",{className:"image",style:{background:"url(https://image.tmdb.org/t/p/original/".concat(t.poster_path,")")}}),c.a.createElement("p",{className:"movietitle",onClick:function(){return e.history.push("/movie/".concat(t.id))}},t.title))})),p=a(28),v=function(e){var t=e.loading,a=e.title,r=Object(n.useState)([]),l=Object(i.a)(r,2),o=l[0],s=l[1];function m(e){s([].concat(Object(p.a)(o),[e]))}function v(e){s(o.filter((function(t){return t.id!==e.id})))}return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("favorites"))||[];s(e)}),[]),Object(n.useEffect)((function(){localStorage.setItem("favorites",JSON.stringify(o))}),[o]),c.a.createElement("div",{className:"welcome"},c.a.createElement("div",{className:"banner"},c.a.createElement("img",{src:"https://peliculas-favoritas.s3.amazonaws.com/popcorn.png"}),c.a.createElement("h2",null,a)),c.a.createElement("div",{className:"main"},c.a.createElement("div",{className:"search"},c.a.createElement("input",{type:"text",placeholder:"Search on the list...",name:"search"})),t?c.a.createElement("p",null,"Cargando"):c.a.createElement("div",{className:"list"},(e.showFavorites?o:e.movies).map((function(e){return c.a.createElement(u,{movie:e,key:e.id,favorites:o,createFavorite:m,deleteFavorite:v})})))))},E=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],o=Object(n.useState)(!0),s=Object(i.a)(o,2),u=s[0],p=s[1];return Object(n.useEffect)((function(){m()({method:"GET",url:"https://api.themoviedb.org/3/movie/popular?api_key=ee41860b27e6bb1be4f182a4519564aa&language=en-US&page=1"}).then((function(e){p(!1),l(e.data.results)})).catch((function(e){p(!1)}))}),[]),c.a.createElement(v,{movies:r,loading:u,title:"Top Movies"})},d=function(e){var t=e.params,a=Object(n.useState)(!0),r=Object(i.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),p=u[0],v=u[1],E=Object(n.useState)(200),d=Object(i.a)(E,2),f=d[0],h=d[1];return Object(n.useEffect)((function(){m()({method:"GET",url:"https://api.themoviedb.org/3/movie/".concat(t.id,"/reviews?api_key=ee41860b27e6bb1be4f182a4519564aa&language=en-US&page=1")}).then((function(e){o(!1),v(e.data.results)})).catch((function(e){o(!1)}))}),[]),c.a.createElement("div",{className:"critics"},l?c.a.createElement("p",null,"Cargando"):c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"Movie Critics"),p.map((function(e){return c.a.createElement("div",{className:"critic"},c.a.createElement("p",null,c.a.createElement("strong",null,e.author,":"),"$",e.content.substring(0,f),e.content.length>f?c.a.createElement("p",{className:"showmore",onClick:function(){return h(6e4)}},"... Show All Texts"):null))}))))},f=function(e){var t=e.match.params,a=Object(n.useState)(!0),r=Object(i.a)(a,2),l=r[0],o=r[1],s=Object(n.useState)({}),u=Object(i.a)(s,2),p=u[0],v=u[1];return Object(n.useEffect)((function(){m()({method:"GET",url:"https://api.themoviedb.org/3/movie/".concat(t.id,"?api_key=ee41860b27e6bb1be4f182a4519564aa&language=en-US")}).then((function(e){o(!1),v(e.data)})).catch((function(e){o(!1)}))}),[]),c.a.createElement("div",{className:"MovieDetail"},l?c.a.createElement("p",null,"Cargando"):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"detail"},c.a.createElement("div",{className:"poster",style:{background:"url(https://image.tmdb.org/t/p/original/".concat(p.poster_path,")")}}),c.a.createElement("div",{className:"movieBackground",style:{background:"url(https://image.tmdb.org/t/p/original/".concat(p.backdrop_path,")")}})),c.a.createElement("div",{className:"banner"},c.a.createElement("img",{src:"https://peliculas-favoritas.s3.amazonaws.com/popcorn.png"}),c.a.createElement("h2",null,p.title),c.a.createElement("p",null),c.a.createElement("p",{className:"tagline"},p.tagline)),c.a.createElement("div",{className:"summary"},c.a.createElement("div",{className:"content"},c.a.createElement("h3",null,"Overview"),c.a.createElement("p",{className:"overview"},p.overview),c.a.createElement("div",{className:"fact"},c.a.createElement("h4",null,"Country(ies): ")," ",p.production_countries&&p.production_countries.map((function(e){return c.a.createElement("p",null,e.name," - ")}))),c.a.createElement("div",{className:"fact"},c.a.createElement("h4",null,"Spoken language(s): ")," ",p.spoken_languages&&p.spoken_languages.map((function(e){return c.a.createElement("p",null,e.name," - ")}))),c.a.createElement("div",{className:"fact"},c.a.createElement("h4",null,"Release Date: ")," ",c.a.createElement("p",null,p.release_date," ")),c.a.createElement("div",{className:"fact"},c.a.createElement("h4",null,"Website: "),c.a.createElement("a",{target:"_blank",href:p.homepage},c.a.createElement("p",null,p.homepage," "))),c.a.createElement("div",{className:"fact"},c.a.createElement("h4",null,"Genres: "),p.genres&&p.genres.map((function(e){return c.a.createElement("p",null,e.name," - ")}))),c.a.createElement("div",{className:"fact"},c.a.createElement("h4",null,"Company(ies): "),p.production_companies&&p.production_companies.map((function(e){return c.a.createElement("p",null,e.name," - ")})))),c.a.createElement(d,{params:t}))))},h=Object(o.g)((function(e){return c.a.createElement("div",{className:"navbar"},c.a.createElement("h1",null,"Welcome to the Popular Movies List"),c.a.createElement("div",{className:"buttons"},c.a.createElement("button",{onClick:function(){return e.history.push("/")}},"Top Movies"),c.a.createElement("button",{onClick:function(){return e.history.push("/favorites")}},"My favorites")))})),g=function(e){return c.a.createElement(v,{showFavorites:!0,title:"My Favorites Movies"})},b=function(){return c.a.createElement("div",{className:"notfound"},c.a.createElement("p",null,"Not Found"),c.a.createElement(o.a,{to:"/"}))};a(56);var N=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null),c.a.createElement(o.d,null,c.a.createElement(o.b,{exact:!0,path:"/",component:E}),c.a.createElement(o.b,{path:"/movie/:id",component:f}),c.a.createElement(o.b,{path:"/favorites",component:g}),c.a.createElement(o.b,{component:b})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=a(9);l.a.render(c.a.createElement(O.a,null,c.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[29,1,2]]]);
//# sourceMappingURL=main.33f72372.chunk.js.map